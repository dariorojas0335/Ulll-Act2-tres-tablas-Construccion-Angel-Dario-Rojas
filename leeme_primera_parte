¬°Absolutamente\! Aqu√≠ tienes el procedimiento completo para configurar tu proyecto Django **UIII\_Construccion\_0335**, incluyendo el desarrollo de la aplicaci√≥n `app_Construccion` con el modelo `Empleado` y las vistas, plantillas y URLs solicitadas.

-----

## üèóÔ∏è Configuraci√≥n Inicial del Proyecto Django

### 1\. Crear Carpeta del Proyecto

Abre tu explorador de archivos y crea la carpeta en la ubicaci√≥n deseada.

  * **Carpeta:** `UIII_Construccion_0335`

### 2\. Abrir VS Code sobre la Carpeta

Navega a la carpeta creada.

  * Haz clic derecho en la carpeta `UIII_Construccion_0335` y selecciona **"Abrir con Code"** (si lo tienes configurado) o abre VS Code, ve a **"Archivo" \> "Abrir Carpeta..."** y selecciona `UIII_Construccion_0335`.

### 3\. Abrir Terminal en VS Code

  * En VS Code, ve a **"Terminal" \> "Nueva Terminal"** o usa el atajo `Ctrl + \``. La terminal se abrir√° en la ra√≠z de tu proyecto (`UIII\_Construccion\_0335\`).

### 4\. Crear Carpeta de Entorno Virtual (`.venv`)

  * Ejecuta el siguiente comando en la terminal:
    ```bash
    python -m venv .venv
    ```

### 5\. Activar el Entorno Virtual

El comando var√≠a ligeramente seg√∫n tu sistema operativo y shell:

  * **Windows (Command Prompt):**
    ```bash
    .venv\Scripts\activate
    ```
  * **Windows (PowerShell):**
    ```powershell
    .venv\Scripts\Activate.ps1
    ```
  * **Linux/macOS (Bash/Zsh):**
    ```bash
    source .venv/bin/activate
    ```
  * Ver√°s `(.venv)` al inicio de la l√≠nea de comandos, indicando que el entorno est√° activo.

### 6\. Activar Int√©rprete de Python

VS Code usualmente detecta y activa el int√©rprete autom√°ticamente al activar el entorno. Si no lo hace:

  * Presiona `Ctrl + Shift + P` (o `Cmd + Shift + P` en Mac).
  * Escribe **"Python: Select Interpreter"** y selecciona la opci√≥n que apunte a tu entorno virtual: `.venv/Scripts/python.exe` (Windows) o `.venv/bin/python` (Linux/macOS).

### 7\. Instalar Django

Con el entorno virtual activo, instala Django:

  * ```bash
      pip install django
    ```

### 8\. Crear Proyecto `backend_Construccion` (sin duplicar carpeta)

Ejecuta el comando, asegur√°ndote de incluir el **punto** al final para crear los archivos dentro de la carpeta actual y evitar la anidaci√≥n:

  * ```bash
      django-admin startproject backend_Construccion .
    ```

### 9\. Ejecutar Servidor en el Puerto 8032

  * ```bash
      python manage.py runserver 8032
    ```

### 10\. Copiar y Pegar el Link en el Navegador

  * La terminal mostrar√° un mensaje similar a:
    ```
    Starting development server at http://127.0.0.1:8032/
    ```
  * Copia la URL: **`http://127.0.0.1:8032/`** y p√©gala en tu navegador. Deber√≠as ver la p√°gina de inicio de Django.
  * Presiona `Ctrl + C` en la terminal para detener el servidor.

-----

## ‚öôÔ∏è Estructura y Desarrollo de la Aplicaci√≥n

### 11\. Crear Aplicaci√≥n `app_Construccion`

  * Ejecuta el comando en la terminal (aseg√∫rate de que el entorno virtual est√© activo):
    ```bash
    python manage.py startapp app_Construccion
    ```

Esto crear√° la carpeta `app_Construccion` dentro de `UIII_Construccion_0335`.

### 25\. Agregar `app_Construccion` en `settings.py`

En el archivo `backend_Construccion/settings.py`, agrega la aplicaci√≥n a `INSTALLED_APPS`:

```python
# backend_Construccion/settings.py

# ...
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    # NUEVA APP
    'app_Construccion', 
]
# ...
```

### 12\. Modelo `models.py`

En el archivo **`app_Construccion/models.py`**, reemplaza el contenido con el c√≥digo de los modelos proporcionado (corrigiendo la sintaxis de la clase `Cliente` para incluir los dos puntos):

```python
# app_Construccion/models.py

from django.db import models

# ==========================================
# MODELO: Cliente
# ==========================================
class Cliente(models.Model):  # Se agrega ':'
    nombre = models.CharField(max_length=100)
    apellido = models.CharField(max_length=100)
    tipo_cliente = models.CharField(
        max_length=50,
        choices=[
            ("Residencial", "Residencial"),
            ("Comercial", "Comercial"),
            ("Gubernamental", "Gubernamental"),
        ],
        default="Residencial"
    )
    telefono = models.CharField(max_length=20)
    email = models.EmailField(unique=True)
    direccion = models.CharField(max_length=200)
    fecha_registro = models.DateField(auto_now_add=True)

    def __str__(self):
        return f"{self.nombre} {self.apellido}"

# ==========================================
# MODELO: Empleado
# ==========================================
class Empleado(models.Model):
    nombre = models.CharField(max_length=100)
    apellido = models.CharField(max_length=100)
    cargo = models.CharField(max_length=100)
    telefono = models.CharField(max_length=20)
    email = models.EmailField(unique=True)
    fecha_contratacion = models.DateField()
    salario = models.DecimalField(max_digits=10, decimal_places=2)

    def __str__(self):
        return f"{self.nombre} {self.apellido} - {self.cargo}"

# ==========================================
# MODELO: Proyecto (DEJADO PENDIENTE)
# ==========================================
class Proyecto(models.Model):
    nombre = models.CharField(max_length=150)
    descripcion = models.TextField()
    fecha_inicio = models.DateField()
    fecha_fin = models.DateField()
    presupuesto = models.DecimalField(max_digits=12, decimal_places=2)
    cliente = models.ForeignKey(Cliente, on_delete=models.CASCADE, related_name="proyectos")
    empleados = models.ManyToManyField(Empleado, related_name="proyectos")
    estado = models.CharField(
        max_length=50,
        choices=[
            ("En planificaci√≥n", "En planificaci√≥n"),
            ("En curso", "En curso"),
            ("Finalizado", "Finalizado"),
        ],
        default="En planificaci√≥n",
    )

    def __str__(self):
        return self.nombre
```

### 27\. Registrar Modelos en `admin.py` (Solo Empleado)

En el archivo **`app_Construccion/admin.py`**, registra el modelo `Empleado`:

```python
# app_Construccion/admin.py
from django.contrib import admin
from .models import Empleado
# Importar Cliente y Proyecto, pero solo registrar Empleado por ahora
# from .models import Cliente, Proyecto 

# Registrar Empleado
admin.site.register(Empleado)

# Dejar pendientes los dem√°s modelos por la instrucci√≥n
# admin.site.register(Cliente)
# admin.site.register(Proyecto)
```

### 12.5. Realizar Migraciones

  * **Crear migraciones (Makemigrations):**
    ```bash
    python manage.py makemigrations
    ```
  * **Aplicar migraciones (Migrate):**
    ```bash
    python manage.py migrate
    ```

### 15\. Crear Carpeta `templates`

  * Dentro de la carpeta `app_Construccion`, crea una nueva carpeta llamada **`templates`**.

### 21\. Crear Subcarpeta `empleado`

  * Dentro de `app_Construccion/templates`, crea la subcarpeta **`empleado`**.

### 16\. Crear Archivos HTML Base

Crea los siguientes archivos dentro de `app_Construccion/templates`:

  * `base.html`
  * `header.html`
  * `navbar.html`
  * `footer.html`
  * `inicio.html`

### 17\. `base.html` con Bootstrap

```html
{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Construcci√≥n{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background-color: #f8f9fa; /* Color de fondo suave */
        }
        main {
            flex-grow: 1; /* Para que el contenido crezca y empuje el footer */
            padding-top: 56px; /* Para compensar el navbar fijo */
            padding-bottom: 60px; /* Espacio para el footer fijo */
        }
        .footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 60px; /* Altura del footer */
            line-height: 60px; /* Centra el texto verticalmente */
            background-color: #343a40; /* Color oscuro */
            color: white;
            z-index: 1030;
        }
    </style>
</head>
<body>
    {% include 'header.html' %}
    
    <main class="container-fluid">
        {% block content %}
        {% endblock %}
    </main>

    {% include 'footer.html' %}
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
</body>
</html>
```

### 18\. `navbar.html`

```html
<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand" href="{% url 'inicio' %}">
            <i class="bi bi-gear-fill"></i> Sistema de Administraci√≥n Construcci√≥n
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="{% url 'inicio' %}">
                        <i class="bi bi-house-door-fill"></i> Inicio
                    </a>
                </li>
                
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="empleadosDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-people-fill"></i> Empleados
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="empleadosDropdown">
                        <li><a class="dropdown-item" href="{% url 'agregar_empleado' %}">Agregar empleado</a></li>
                        <li><a class="dropdown-item" href="{% url 'ver_empleado' %}">Ver empleado</a></li>
                        <li><a class="dropdown-item" href="#">Actualizar empleado (No CRUD)</a></li>
                        <li><a class="dropdown-item" href="#">Borrar empleado (No CRUD)</a></li>
                    </ul>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="proyectosDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-building-fill"></i> Proyectos
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="proyectosDropdown">
                        <li><a class="dropdown-item" href="#">Agregar proyectos</a></li>
                        <li><a class="dropdown-item" href="#">Ver proyectos</a></li>
                        <li><a class="dropdown-item" href="#">Actualizar proyectos</a></li>
                        <li><a class="dropdown-item" href="#">Borrar proyectos</a></li>
                    </ul>
                </li>
                
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="clientesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-person-lines-fill"></i> Clientes
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="clientesDropdown">
                        <li><a class="dropdown-item" href="#">Agregar clientes</a></li>
                        <li><a class="dropdown-item" href="#">Ver clientes</a></li>
                        <li><a class="dropdown-item" href="#">Actualizar clientes</a></li>
                        <li><a class="dropdown-item" href="#">Borrar clientes</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
```

### 19\. `footer.html` (Pie de p√°gina fijo)

```html
<footer class="footer text-center bg-dark text-white">
    <div class="container">
        <span class="text-muted">
            &copy; {% now "Y" %} Derechos de autor. | Creado por Tec. Angel Dar√≠o Rojas, Cbtis 128. | Fecha del Sistema: {% now "d/m/Y H:i" %}
        </span>
    </div>
</footer>
```

### 20\. `inicio.html`

```html
{% extends 'base.html' %}

{% block title %}Inicio - Sistema de Administraci√≥n Construcci√≥n{% endblock %}

{% block content %}
<div class="p-5 mb-4 bg-light rounded-3 shadow-sm">
    <div class="container-fluid py-5">
        <h1 class="display-5 fw-bold text-primary">Bienvenido al Sistema de Administraci√≥n de Construcci√≥n</h1>
        <p class="col-md-8 fs-4">
            Plataforma dise√±ada para la gesti√≥n integral de clientes, empleados y proyectos del sector de la construcci√≥n. 
            Optimiza el flujo de trabajo y mant√©n un control preciso de todos tus recursos.
        </p>
    </div>
</div>

<div class="row align-items-md-stretch">
    <div class="col-md-6">
        <div class="h-100 p-5 bg-white border rounded-3 shadow-sm">
            <h2 class="text-secondary">Nuestra Misi√≥n</h2>
            <p>
                Ofrecer soluciones de construcci√≥n de alta calidad, garantizando la satisfacci√≥n del cliente 
                mediante el uso de tecnolog√≠a avanzada y un equipo de profesionales altamente cualificados. 
                Construyendo el futuro, cimiento a cimiento.
            </p>
        </div>
    </div>
    <div class="col-md-6">
        <div class="h-100 p-5 bg-white border rounded-3 shadow-sm">
            <h2 class="text-secondary">Visi√≥n Global</h2>
            <p>
                Ser la empresa l√≠der en el mercado de la construcci√≥n a nivel nacional, 
                reconocida por nuestra innovaci√≥n, sostenibilidad y compromiso con la excelencia.
            </p>
        </div>
    </div>
</div>

<div class="text-center my-4">
    
</div>
{% endblock %}
```

-----

## üë®‚Äçüíª CRUD de Empleados

### 14\. Vistas en `app_Construccion/views.py`

Reemplaza el contenido de **`app_Construccion/views.py`** con las funciones del CRUD de `Empleado`.

```python
# app_Construccion/views.py
from django.shortcuts import render, redirect, get_object_or_404
from .models import Empleado
from django.db import IntegrityError # Para manejar errores de email duplicado

# ==========================================
# INICIO
# ==========================================
def inicio_construccion(request):
    """
    Vista para la p√°gina de inicio.
    """
    return render(request, 'inicio.html')

# ==========================================
# C: AGREGAR EMPLEADO
# ==========================================
def agregar_empleado(request):
    """
    Maneja la visualizaci√≥n del formulario y la creaci√≥n de un nuevo empleado.
    """
    if request.method == 'POST':
        # Captura de datos del formulario (sin usar forms.py)
        nombre = request.POST.get('nombre')
        apellido = request.POST.get('apellido')
        cargo = request.POST.get('cargo')
        telefono = request.POST.get('telefono')
        email = request.POST.get('email')
        fecha_contratacion = request.POST.get('fecha_contratacion')
        salario = request.POST.get('salario')
        
        try:
            # Crear y guardar el nuevo empleado
            Empleado.objects.create(
                nombre=nombre,
                apellido=apellido,
                cargo=cargo,
                telefono=telefono,
                email=email,
                fecha_contratacion=fecha_contratacion,
                salario=salario
            )
            # Redirigir a la lista de empleados despu√©s de la creaci√≥n
            return redirect('ver_empleado')
        except IntegrityError:
            # Manejar el caso de email duplicado
            context = {
                'error_message': 'El email ya est√° registrado. Por favor, usa otro.',
                # Pasar los datos para pre-llenar el formulario
                'nombre': nombre, 'apellido': apellido, 'cargo': cargo, 
                'telefono': telefono, 'email': email, 
                'fecha_contratacion': fecha_contratacion, 'salario': salario
            }
            return render(request, 'empleado/agregar_empleado.html', context)
        except Exception as e:
            # Manejar otros errores
            context = {'error_message': f'Ocurri√≥ un error: {e}'}
            return render(request, 'empleado/agregar_empleado.html', context)


    return render(request, 'empleado/agregar_empleado.html')

# ==========================================
# R: VER EMPLEADO (Listar)
# ==========================================
def ver_empleado(request):
    """
    Lista todos los empleados en una tabla.
    """
    empleados = Empleado.objects.all().order_by('apellido', 'nombre')
    context = {
        'empleados': empleados
    }
    return render(request, 'empleado/ver_empleado.html', context)

# ==========================================
# U: ACTUALIZAR EMPLEADO (Mostrar Formulario de Edici√≥n)
# ==========================================
def actualizar_empleado(request, pk):
    """
    Muestra el formulario de edici√≥n con los datos del empleado.
    """
    empleado = get_object_or_404(Empleado, pk=pk)
    context = {
        'empleado': empleado
    }
    return render(request, 'empleado/actualizar_empleado.html', context)

# ==========================================
# U: REALIZAR ACTUALIZACION EMPLEADO (Guardar Cambios)
# ==========================================
def realizar_actualizacion_empleado(request, pk):
    """
    Procesa los datos del formulario de edici√≥n y guarda los cambios.
    """
    empleado = get_object_or_404(Empleado, pk=pk)
    
    if request.method == 'POST':
        try:
            # Actualizaci√≥n de campos
            empleado.nombre = request.POST.get('nombre')
            empleado.apellido = request.POST.get('apellido')
            empleado.cargo = request.POST.get('cargo')
            empleado.telefono = request.POST.get('telefono')
            # Cuidado con el email, puede generar IntegrityError si ya existe
            nuevo_email = request.POST.get('email')
            if empleado.email != nuevo_email:
                empleado.email = nuevo_email
            
            empleado.fecha_contratacion = request.POST.get('fecha_contratacion')
            empleado.salario = request.POST.get('salario')
            
            empleado.save()
            return redirect('ver_empleado') # Redirigir al listado
        except IntegrityError:
            context = {
                'empleado': empleado, 
                'error_message': 'El email ya est√° registrado para otro empleado.'
            }
            return render(request, 'empleado/actualizar_empleado.html', context)
        except Exception as e:
            context = {
                'empleado': empleado, 
                'error_message': f'Ocurri√≥ un error al guardar: {e}'
            }
            return render(request, 'empleado/actualizar_empleado.html', context)

    # Si se accede por GET sin la URL correcta
    return redirect('ver_empleado')

# ==========================================
# D: BORRAR EMPLEADO
# ==========================================
def borrar_empleado(request, pk):
    """
    Muestra la p√°gina de confirmaci√≥n y elimina el empleado.
    """
    empleado = get_object_or_404(Empleado, pk=pk)
    
    if request.method == 'POST':
        empleado.delete()
        return redirect('ver_empleado') # Redirigir al listado despu√©s de borrar

    context = {
        'empleado': empleado
    }
    return render(request, 'empleado/borrar_empleado.html', context)
```

### 22\. Archivos HTML del CRUD de Empleados

Crea y a√±ade el siguiente contenido en `app_Construccion/templates/empleado/`:

#### `agregar_empleado.html`

```html
{% extends 'base.html' %}

{% block title %}Agregar Empleado{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
        <div class="card shadow-lg border-0 mt-5">
            <div class="card-header bg-primary text-white text-center">
                <h3 class="mb-0"><i class="bi bi-person-plus-fill"></i> Agregar Nuevo Empleado</h3>
            </div>
            <div class="card-body p-4">
                {% if error_message %}
                <div class="alert alert-danger" role="alert">
                    {{ error_message }}
                </div>
                {% endif %}

                <form method="post">
                    {% csrf_token %}
                    
                    <div class="mb-3">
                        <label for="nombre" class="form-label">Nombre:</label>
                        <input type="text" class="form-control" id="nombre" name="nombre" value="{{ nombre }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="apellido" class="form-label">Apellido:</label>
                        <input type="text" class="form-control" id="apellido" name="apellido" value="{{ apellido }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="cargo" class="form-label">Cargo:</label>
                        <input type="text" class="form-control" id="cargo" name="cargo" value="{{ cargo }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="telefono" class="form-label">Tel√©fono:</label>
                        <input type="text" class="form-control" id="telefono" name="telefono" value="{{ telefono }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email:</label>
                        <input type="email" class="form-control" id="email" name="email" value="{{ email }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="fecha_contratacion" class="form-label">Fecha de Contrataci√≥n:</label>
                        <input type="date" class="form-control" id="fecha_contratacion" name="fecha_contratacion" value="{{ fecha_contratacion }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="salario" class="form-label">Salario:</label>
                        <input type="number" step="0.01" class="form-control" id="salario" name="salario" value="{{ salario }}" required>
                    </div>

                    <div class="d-grid gap-2 mt-4">
                        <button type="submit" class="btn btn-success btn-lg"><i class="bi bi-save"></i> Guardar Empleado</button>
                        <a href="{% url 'ver_empleado' %}" class="btn btn-secondary"><i class="bi bi-arrow-left-circle"></i> Volver a la Lista</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
```

#### `ver_empleado.html` (Mostrar en tabla)

```html
{% extends 'base.html' %}

{% block title %}Ver Empleados{% endblock %}

{% block content %}
<div class="container-fluid mt-4">
    <h2 class="text-center mb-4 text-primary"><i class="bi bi-card-list"></i> Lista de Empleados</h2>
    <a href="{% url 'agregar_empleado' %}" class="btn btn-primary mb-3"><i class="bi bi-plus-circle"></i> Agregar Nuevo Empleado</a>

    <div class="table-responsive shadow-sm">
        <table class="table table-striped table-hover align-middle">
            <thead class="table-dark">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Nombre Completo</th>
                    <th scope="col">Cargo</th>
                    <th scope="col">Tel√©fono</th>
                    <th scope="col">Email</th>
                    <th scope="col">Fec. Contrataci√≥n</th>
                    <th scope="col">Salario</th>
                    <th scope="col" class="text-center">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for empleado in empleados %}
                <tr>
                    <th scope="row">{{ empleado.id }}</th>
                    <td>{{ empleado.nombre }} {{ empleado.apellido }}</td>
                    <td>{{ empleado.cargo }}</td>
                    <td>{{ empleado.telefono }}</td>
                    <td>{{ empleado.email }}</td>
                    <td>{{ empleado.fecha_contratacion|date:"d/m/Y" }}</td>
                    <td>${{ empleado.salario|floatformat:2 }}</td>
                    <td class="text-center">
                        <a href="#" class="btn btn-sm btn-info text-white me-1" title="Ver Detalle"><i class="bi bi-eye"></i></a>
                        <a href="{% url 'actualizar_empleado' empleado.id %}" class="btn btn-sm btn-warning me-1" title="Editar"><i class="bi bi-pencil-square"></i></a>
                        <a href="{% url 'borrar_empleado' empleado.id %}" class="btn btn-sm btn-danger" title="Borrar"><i class="bi bi-trash"></i></a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="8" class="text-center text-muted">No hay empleados registrados.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
```

#### `actualizar_empleado.html`

```html
{% extends 'base.html' %}

{% block title %}Actualizar Empleado{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
        <div class="card shadow-lg border-0 mt-5">
            <div class="card-header bg-warning text-white text-center">
                <h3 class="mb-0"><i class="bi bi-pencil-square"></i> Actualizar Empleado: {{ empleado.nombre }} {{ empleado.apellido }}</h3>
            </div>
            <div class="card-body p-4">
                {% if error_message %}
                <div class="alert alert-danger" role="alert">
                    {{ error_message }}
                </div>
                {% endif %}

                <form method="post" action="{% url 'realizar_actualizacion_empleado' empleado.id %}">
                    {% csrf_token %}
                    
                    <div class="mb-3">
                        <label for="nombre" class="form-label">Nombre:</label>
                        <input type="text" class="form-control" id="nombre" name="nombre" value="{{ empleado.nombre }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="apellido" class="form-label">Apellido:</label>
                        <input type="text" class="form-control" id="apellido" name="apellido" value="{{ empleado.apellido }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="cargo" class="form-label">Cargo:</label>
                        <input type="text" class="form-control" id="cargo" name="cargo" value="{{ empleado.cargo }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="telefono" class="form-label">Tel√©fono:</label>
                        <input type="text" class="form-control" id="telefono" name="telefono" value="{{ empleado.telefono }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email:</label>
                        <input type="email" class="form-control" id="email" name="email" value="{{ empleado.email }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="fecha_contratacion" class="form-label">Fecha de Contrataci√≥n:</label>
                        <input type="date" class="form-control" id="fecha_contratacion" name="fecha_contratacion" value="{{ empleado.fecha_contratacion|date:'Y-m-d' }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="salario" class="form-label">Salario:</label>
                        <input type="number" step="0.01" class="form-control" id="salario" name="salario" value="{{ empleado.salario }}" required>
                    </div>

                    <div class="d-grid gap-2 mt-4">
                        <button type="submit" class="btn btn-warning btn-lg"><i class="bi bi-arrow-repeat"></i> Actualizar</button>
                        <a href="{% url 'ver_empleado' %}" class="btn btn-secondary"><i class="bi bi-arrow-left-circle"></i> Cancelar y Volver</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
```

#### `borrar_empleado.html`

```html
{% extends 'base.html' %}

{% block title %}Borrar Empleado{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
        <div class="card shadow-lg border-0 mt-5">
            <div class="card-header bg-danger text-white text-center">
                <h3 class="mb-0"><i class="bi bi-trash-fill"></i> Confirmar Eliminaci√≥n</h3>
            </div>
            <div class="card-body p-4">
                <div class="alert alert-danger text-center" role="alert">
                    <h4 class="alert-heading">¬°Advertencia!</h4>
                    <p>Est√° a punto de **eliminar** al siguiente empleado de forma **permanente**:</p>
                    <hr>
                    <p class="mb-0 fs-5">
                        **Nombre:** {{ empleado.nombre }} {{ empleado.apellido }}<br>
                        **Cargo:** {{ empleado.cargo }}<br>
                        **Email:** {{ empleado.email }}
                    </p>
                </div>

                <form method="post">
                    {% csrf_token %}
                    <p class="text-center fw-bold">¬øEst√° seguro de que desea continuar?</p>
                    <div class="d-grid gap-2 mt-4">
                        <button type="submit" class="btn btn-danger btn-lg"><i class="bi bi-check-circle"></i> S√≠, Eliminar</button>
                        <a href="{% url 'ver_empleado' %}" class="btn btn-secondary"><i class="bi bi-x-circle"></i> Cancelar</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
```

### 24\. Crear Archivo `app_Construccion/urls.py`

Crea el archivo **`app_Construccion/urls.py`** y a√±ade el mapeo de URLs para el CRUD de Empleados:

```python
# app_Construccion/urls.py
from django.urls import path
from . import views

urlpatterns = [
    # URLs de la aplicaci√≥n principal
    path('', views.inicio_construccion, name='inicio'),

    # URLs para CRUD de Empleados
    path('empleado/agregar/', views.agregar_empleado, name='agregar_empleado'),
    path('empleado/ver/', views.ver_empleado, name='ver_empleado'),
    
    # URL para mostrar formulario de actualizaci√≥n (GET)
    path('empleado/actualizar/<int:pk>/', views.actualizar_empleado, name='actualizar_empleado'),
    
    # URL para procesar la actualizaci√≥n (POST)
    path('empleado/realizar_actualizacion/<int:pk>/', views.realizar_actualizacion_empleado, name='realizar_actualizacion_empleado'),
    
    # URL para borrar
    path('empleado/borrar/<int:pk>/', views.borrar_empleado, name='borrar_empleado'),
]
```

### 26\. Configuraci√≥n de `urls.py` de `backend_Construccion`

En el archivo del proyecto **`backend_Construccion/urls.py`**, enlaza las URLs de `app_Construccion`:

```python
# backend_Construccion/urls.py
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    # Enlazar las URLs de la aplicaci√≥n app_Construccion a la ra√≠z
    path('', include('app_Construccion.urls')),
]
```

-----

## üöÄ Ejecuci√≥n Final

### 31\. Ejecutar Servidor en el Puerto 8032

Aseg√∫rate de tener el entorno virtual activo y ejecuta el servidor de desarrollo:

```bash
python manage.py runserver 8032
```

Abre tu navegador en: **`http://127.0.0.1:8032/`**. El proyecto estar√° completamente funcional en el puerto especificado. Puedes navegar a `http://127.0.0.1:8032/admin` (despu√©s de crear un superusuario) para ver los modelos registrados o usar el men√∫ de navegaci√≥n para acceder al CRUD de Empleados.

-----

¬øNecesitas ayuda para crear un **Superusuario** para acceder al panel de administraci√≥n de Django?
